{"ast":null,"code":"import _classCallCheck from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch, Link, Redirect, withRouter } from \"react-router-dom\";\nimport './App.css';\nimport Header from './components/Header';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport HomePage from './Pages/HomePage';\nimport AboutPage from './Pages/AboutPage';\nimport ContactPage from './Pages/ContactPage';\nimport UserNotePage from './Pages/UserNotePage'; // import AllNotes from './components/AllNotes';\n// import NotePage from './components/FullNote';\n\nimport CreateNoteForm from './components/CreateNoteForm';\nimport EditNoteForm from './components/EditNoteForm';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentUser: {\n        notes: []\n      },\n      userSignedIn: false,\n      currentNote: {}\n    };\n\n    _this.logInApp = function (data) {\n      if (!data.error) {\n        localStorage.token = data.token;\n\n        _this.getUser();\n      } else {\n        _this.setState({\n          loginError: data.error\n        });\n      }\n    };\n\n    _this.signUpApp = function (data) {\n      if (!data.error) {\n        localStorage.token = data.token;\n\n        _this.getUser();\n      } else {\n        _this.setState({\n          loginError: data.error\n        });\n      }\n    };\n\n    _this.userLogOut = function () {\n      _this.setState({\n        currentUser: {},\n        userSignedIn: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUser();\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser() {\n      var _this2 = this;\n\n      var token = localStorage.token;\n\n      if (token) {\n        fetch(\"http://localhost:3000/api/v1/profile\", {\n          method: \"GET\",\n          headers: {\n            Authorization: \"Bearer \".concat(token)\n          }\n        }).then(function (resp) {\n          return resp.json();\n        }).then(function (data) {\n          if (!data.error) {\n            _this2.setState({\n              currentUser: data,\n              userSignedIn: true\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log(\"appPage get userNotes\", this.getUserNotes())\n      console.log(\"AppPage - Signed in: \", this.state.userSignedIn, this.state.currentUser.notes);\n      var style = {\n        border: \"1px solid red\",\n        padding: \"1rem\",\n        margin: \"1rem\"\n      };\n      return React.createElement(\"div\", {\n        className: \"App\",\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Header, {\n        userSignedIn: this.state.userSignedIn,\n        username: this.state.currentUser.username,\n        userLogOut: this.userLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/about\",\n        component: AboutPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/contact\",\n        component: ContactPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), this.state.userSignedIn ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/:user/notes\",\n        render: function render(routerProps) {\n          return React.createElement(UserNotePage, {\n            userSignedIn: _this3.state.userSignedIn,\n            currentUser: _this3.state.currentUser,\n            userNotes: _this3.state.currentUser.notes,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/:user/notes/edit\",\n        component: React.createElement(EditNoteForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/:user/notes/new\",\n        component: React.createElement(CreateNoteForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        to: \"/\".concat(this.state.currentUser.username, \"/notes\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Not logged in.\", React.createElement(Route, {\n        path: \"/login\",\n        render: function render(routerProps) {\n          return React.createElement(UserSignIn, {\n            logInApp: _this3.logInApp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signup\",\n        render: function render(routerProps) {\n          return React.createElement(UserSignUp, {\n            signUpApp: _this3.signUpApp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/src/App.js"],"names":["React","Component","Route","Switch","Link","Redirect","withRouter","Header","UserSignIn","UserSignUp","HomePage","AboutPage","ContactPage","UserNotePage","CreateNoteForm","EditNoteForm","App","state","currentUser","notes","userSignedIn","currentNote","logInApp","data","error","localStorage","token","getUser","setState","loginError","signUpApp","userLogOut","fetch","method","headers","Authorization","then","resp","json","console","log","style","border","padding","margin","username","routerProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Route,\n  Switch,\n  Link,\n  Redirect,\n  withRouter\n} from \"react-router-dom\";\nimport './App.css';\nimport Header from './components/Header';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport HomePage from './Pages/HomePage';\nimport AboutPage from './Pages/AboutPage';\nimport ContactPage from './Pages/ContactPage';\nimport UserNotePage from './Pages/UserNotePage';\n// import AllNotes from './components/AllNotes';\n// import NotePage from './components/FullNote';\nimport CreateNoteForm from './components/CreateNoteForm';\nimport EditNoteForm from './components/EditNoteForm';\n\nclass App extends Component {\n  state = {\n    currentUser: {\n      notes: []\n    },\n    userSignedIn: false,\n    currentNote: {}\n  }\n\n  componentDidMount() {\n    this.getUser()\n  }\n\n  getUser(){\n    const token = localStorage.token;\n    if(token){\n      fetch(\"http://localhost:3000/api/v1/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      })\n        .then(resp => resp.json())\n        .then(data => {\n          if (!data.error) {\n            this.setState({\n              currentUser: data,\n              userSignedIn: true\n            });\n          }\n        });\n\n    }\n  }\n\n  logInApp = data => {\n    if (!data.error) {\n      localStorage.token = data.token;\n      this.getUser()\n    } else {\n      this.setState({\n        loginError: data.error\n      });\n    }\n  };\n\n  signUpApp = data => {\n    if (!data.error){\n      localStorage.token = data.token;\n      this.getUser()\n    } else {\n      this.setState({\n        loginError: data.error\n      })\n    }\n  }\n\n  userLogOut = () => {\n    this.setState({\n      currentUser: {},\n      userSignedIn: false\n    })\n  }\n  render() {\n    // console.log(\"appPage get userNotes\", this.getUserNotes())\n     console.log(\"AppPage - Signed in: \", this.state.userSignedIn, this.state.currentUser.notes)\n    const style = { border: \"1px solid red\", padding: \"1rem\", margin: \"1rem\" };\n    return (\n      <div className=\"App\" style={style}>\n        <Header\n          userSignedIn={this.state.userSignedIn}\n          username={this.state.currentUser.username}\n          userLogOut={this.userLogOut}\n\n        />\n\n        {/* <UserSignIn logInApp={this.logInApp}/>\n        <UserSignUp signUpApp={this.signUpApp}/>\n        <CreateNoteForm />\n        <EditNoteForm /> */}\n        {/* <div className=\"Note-container\" style={ {border: \"1px solid blue\", padding: \"1rem\"}}>\n          <AllNotes\n            userSignedIn={this.state.userSignedIn}\n            currentUser={this.state.currentUser}\n            userNotes={this.state.currentUser.notes}\n          />\n          <NotePage />\n\n          <EditNoteForm />\n        </div> */}\n        {/* <div>\n          {this.state.userSignedIn ? (\n            <h1>Hello {this.state.currentUser.username}!</h1>\n          ) : null}\n        </div> */}\n        <Switch>\n          <Route path=\"/about\" component={AboutPage} />\n          <Route path=\"/contact\" component={ContactPage} />\n\n          { this.state.userSignedIn ? (\n            <React.Fragment>\n              <Route path='/:user/notes' render={(routerProps)=>{return <UserNotePage userSignedIn={this.state.userSignedIn} currentUser={this.state.currentUser} userNotes={this.state.currentUser.notes} />}}/>\n              <Route path='/:user/notes/edit' component={<EditNoteForm />} />\n              <Route path='/:user/notes/new' component={<CreateNoteForm />}/>\n              <Route exact path=\"/\" component={HomePage} />\n              <Redirect to={`/${this.state.currentUser.username}/notes`} />\n            </React.Fragment>\n          ) : (\n          <React.Fragment>\n            Not logged in.\n            <Route path=\"/login\" render={(routerProps)=>{return <UserSignIn logInApp={this.logInApp} />}}/>\n            <Route path=\"/signup\" render={(routerProps)=>{return <UserSignUp signUpApp={this.signUpApp}/>}}/>\n            <Route exact path=\"/\" component={HomePage} />\n            <Redirect to='/'/>\n          </React.Fragment>\n          )}\n\n          {/* <Route path=\"/login\" render={(routerProps)=>{return <UserSignIn logInApp={this.logInApp} />}}/>\n          <Route path=\"/signup\" render={(routerProps)=>{return <UserSignUp signUpApp={this.signUpApp}/>}}/> */}\n          {/* <Route exact path=\"/\" component={HomePage} /> */}\n\n        </Switch>\n{/* first view: homepage route: / */}\n{/* sign in: /logIn */}\n{/* sign up: /signUp */}\n{/* User page: /{username} (dynamic)*/}\n{/* user create note: /username/notes/new */}\n{/* user edit note: /username/notes/edit */}\n{/*  user delete note: /username/notes/delete -need confirmation*/}\n{/* About page: /about */}\n{/* Contact page: /contact */}\n\n\n      </div>\n    );\n  }\n}\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}