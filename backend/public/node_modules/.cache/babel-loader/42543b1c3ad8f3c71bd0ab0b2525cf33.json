{"ast":null,"code":"import _classCallCheck from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/src/App.js\";\nimport React, { Component } from 'react'; // import {\n//   BrowserRouter as Router,\n//   Route,\n//   Link,\n//   Redirect,\n//   withRouter\n// } from \"react-router-dom\";\n\nimport './App.css';\nimport Header from './components/Header';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport AllNotes from './components/AllNotes';\nimport NotePage from './components/NotePage';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentUser: {},\n      userSignedIn: false\n    };\n\n    _this.logInApp = function (data) {\n      if (!data.error) {\n        localStorage.token = data.token;\n\n        _this.setState({\n          currentUser: data.user,\n          userSignedIn: true\n        });\n      } else {\n        _this.setState({\n          loginError: data.error\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var token = localStorage.token;\n      fetch(\"http://localhost:3000/api/v1/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (resp) {\n        return resp.json();\n      }).then(function (data) {\n        debugger;\n        var userNotes = data.notes;\n\n        if (!data.error) {\n          _this2.setState({\n            currentUser: data,\n            // userNotes: userNotes,\n            userSignedIn: true\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getUserNotes\",\n    value: function getUserNotes() {\n      if (this.state.userSignedIn === true) {\n        var userNotes = this.state.currentUser.notes;\n\n        for (i = 0; i < userNotes.length; i++) {\n          return userNotes[i].id;\n          i++;\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.getUserNotes()); // console.log(\"Signed in: \", this.state.userSignedIn, this.getUserNotes())\n\n      var style = {\n        border: \"1px solid red\",\n        padding: \"1rem\",\n        margin: \"1rem\"\n      };\n      return React.createElement(\"div\", {\n        className: \"App\",\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(UserSignIn, {\n        logInApp: this.logInApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(UserSignUp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Note-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(AllNotes, {\n        userNotes: this.state.currentUser.notes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(NotePage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.state.userSignedIn ? React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Hello \", this.state.currentUser.username, \"!\") : null));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/becci/Development/mod4.5project/rails-react-evernote-unstarter/frontend/src/App.js"],"names":["React","Component","Header","UserSignIn","UserSignUp","AllNotes","NotePage","App","state","currentUser","userSignedIn","logInApp","data","error","localStorage","token","setState","user","loginError","fetch","method","headers","Authorization","then","resp","json","userNotes","notes","i","length","id","console","log","getUserNotes","style","border","padding","margin","username"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;;IAEqBC,G;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,WAAW,EAAE,EADP;AAENC,MAAAA,YAAY,EAAE;AAFR,K;;UA2BVC,Q,GAAW,UAAAC,IAAI,EAAI;AACjB,UAAI,CAACA,IAAI,CAACC,KAAV,EAAiB;AACfC,QAAAA,YAAY,CAACC,KAAb,GAAqBH,IAAI,CAACG,KAA1B;;AACA,cAAKC,QAAL,CAAc;AACZP,UAAAA,WAAW,EAAEG,IAAI,CAACK,IADN;AAEZP,UAAAA,YAAY,EAAE;AAFF,SAAd;AAKD,OAPD,MAOO;AACL,cAAKM,QAAL,CAAc;AACZE,UAAAA,UAAU,EAAEN,IAAI,CAACC;AADL,SAAd;AAGD;AACF,K;;;;;;;wCAlCqB;AAAA;;AAClB,UAAME,KAAK,GAAGD,YAAY,CAACC,KAA3B;AACAI,MAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC5CC,QAAAA,MAAM,EAAE,KADoC;AAE5CC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,mBAAYP,KAAZ;AADN;AAFmC,OAAzC,CAAL,CAMGQ,IANH,CAMQ,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,OANZ,EAOGF,IAPH,CAOQ,UAAAX,IAAI,EAAI;AACZ;AACA,YAAMc,SAAS,GAAGd,IAAI,CAACe,KAAvB;;AACA,YAAI,CAACf,IAAI,CAACC,KAAV,EAAiB;AACf,UAAA,MAAI,CAACG,QAAL,CAAc;AACZP,YAAAA,WAAW,EAAEG,IADD;AAEZ;AACAF,YAAAA,YAAY,EAAE;AAHF,WAAd;AAKD;AACF,OAjBH;AAkBD;;;mCAgBY;AACb,UAAI,KAAKF,KAAL,CAAWE,YAAX,KAA4B,IAAhC,EAAsC;AACpC,YAAIgB,SAAS,GAAG,KAAKlB,KAAL,CAAWC,WAAX,CAAuBkB,KAAvC;;AACA,aAAKC,CAAC,GAAC,CAAP,EAAUA,CAAC,GAAEF,SAAS,CAACG,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AAClC,iBAAOF,SAAS,CAACE,CAAD,CAAT,CAAaE,EAApB;AACAF,UAAAA,CAAC;AACF;AACF;AAGF;;;6BAKU;AACPG,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,YAAL,EAAZ,EADO,CAEN;;AACD,UAAMC,KAAK,GAAG;AAAEC,QAAAA,MAAM,EAAE,eAAV;AAA2BC,QAAAA,OAAO,EAAE,MAApC;AAA4CC,QAAAA,MAAM,EAAE;AAApD,OAAd;AACA,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,KAAK,EAAEH,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAE,KAAKvB,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAE,KAAKH,KAAL,CAAWC,WAAX,CAAuBkB,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAJF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKnB,KAAL,CAAWE,YAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAW,KAAKF,KAAL,CAAWC,WAAX,CAAuB6B,QAAlC,MADD,GAEG,IAHN,CARF,CADF;AAkBD;;;;EAhF8BrC,S;;SAAZM,G","sourcesContent":["import React, { Component } from 'react';\n// import {\n//   BrowserRouter as Router,\n//   Route,\n//   Link,\n//   Redirect,\n//   withRouter\n// } from \"react-router-dom\";\nimport './App.css';\nimport Header from './components/Header'\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport AllNotes from './components/AllNotes'\nimport NotePage from './components/NotePage';\n\nexport default class App extends Component {\n  state = {\n    currentUser: {},\n    userSignedIn: false\n\n  }\n\n  componentDidMount() {\n    const token = localStorage.token;\n    fetch(\"http://localhost:3000/api/v1/profile\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        debugger\n        const userNotes = data.notes;\n        if (!data.error) {\n          this.setState({\n            currentUser: data,\n            // userNotes: userNotes,\n            userSignedIn: true\n          });\n        }\n      });\n  }\nlogInApp = data => {\n  if (!data.error) {\n    localStorage.token = data.token;\n    this.setState({\n      currentUser: data.user,\n      userSignedIn: true\n    });\n\n  } else {\n    this.setState({\n      loginError: data.error\n    });\n  }\n};\n\ngetUserNotes() {\n  if (this.state.userSignedIn === true) {\n    let userNotes = this.state.currentUser.notes\n    for (i=0; i< userNotes.length; i++) {\n      return userNotes[i].id\n      i++\n    }\n  }\n\n\n}\n\n\n\n\n  render() {\n    console.log(this.getUserNotes())\n     // console.log(\"Signed in: \", this.state.userSignedIn, this.getUserNotes())\n    const style = { border: \"1px solid red\", padding: \"1rem\", margin: \"1rem\" };\n    return (\n      <div className=\"App\" style={style}>\n        <Header />\n        <UserSignIn logInApp={this.logInApp}/>\n        <UserSignUp />\n        <div className=\"Note-container\">\n          <AllNotes userNotes={this.state.currentUser.notes} />\n          <NotePage />\n        </div>\n        <div>\n          {this.state.userSignedIn ? (\n            <h1>Hello {this.state.currentUser.username}!</h1>\n          ) : null}\n        </div>\n\n\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}